---
title: 为什么要使用 Enum 类
date: 2023-10-27 12:00:00 +0800
categories: [Python]
tags: [Python]
---

## Enum 简介

当需要定义一系列的变量，比如周一到周五的日期、红色到蓝色的颜色、语文到体育的科目等等，我们往往会先想到使用数字来表示。

```python
RED = 0
YELLOW = 1
BLUE = 2
```

这样不是不行，但它们毕竟是一系列相关的变量，还是用类封装起来比较好。Enum 就是用来封装一系列相关的变量的，把一组相关常量定义在一个 class 中。

## 用法

### 基础用法

使用 Enum，我们可以将变量放在同一个类中。

```python
from enum import Enum
class Color(Enum):
    RED = 1
    GREEN = 2
    BLUE = 3

print(Color.RED.value) # 1
```

### 自动生成值

如果具体的值不重要，使用 `auto` 自动生成。

```python
from enum import Enum, auto

class Color(Enum):
    RED = auto()
    GREEN = auto()
    BLUE = auto()

print(Color.RED.value) # 1
```

### 直接使用整数

上面的两个例子中，需要增加 `.value` 才能正确读到值。如果继承 `IntEnum`，就可以作为整数直接使用。

```python
from enum import Enum, auto, IntEnum

class Color(IntEnum):
    RED = auto()
    GREEN = auto()
    BLUE = auto()

print(Color.RED.value) # 1
print(Color.RED) # 1
```

### 保证每个成员的值唯一

装饰器 `@unique` 可以保证每个成员的值是唯一的。下面这个例子展示了两个成员对应的值相同时会报错。

```python
from enum import IntEnum, unique

@unique
class Color(IntEnum):
    RED = 1
    GREEN = 2
    BLUE = 2

# ValueError: duplicate values found in <enum 'Color'>: BLUE -> GREEN
```