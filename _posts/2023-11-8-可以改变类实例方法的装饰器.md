---
title: 可以改变类实例方法的装饰器
date: 2023-11-8 12:00:00 +0800
categories: [Python]
tags: [Python, oop]
---

类里面有几种装饰器，可以将 method 作为属性操作，分别是 `@property` `@aPropertyName.setter` `@aPropertyName.deleter` 。

下面使用一个 *Student* 类进行示范。

```python
class Student:
    def __init__(self, firstname, lastname):
        self.firstname = firstname
        self.lastname = lastname
```

## `@property`

这个方法可以像使用属性一样使用函数。假设需要知道学生的全名，也就是 `firstname + lastname` ，如果直接在实例化的时候定义属性，像这样

```python
class Student:
    def __init__(self, firstname, lastname):
        self.firstname = firstname
        self.lastname = lastname
        self.fullname = self.firstname + self.lastname
```

会导致更改 firstname 或 lastname 的时候，fullname 不会更新，还是原来的样子；如果使用一个方法，在每次使用的方法都去调取这两个属性，就可以保持同步。

```python
def fullname(self):
        return self.firstname + self.lastname
```

这样子就是用一个方法去表示属性，每次使用这个属性的时候需要像使用方法一样调用。这当然不是我们想要的，我们希望像调用属性一样调用。这就用到了 `@property` 装饰器。

```python
@property
def fullname(self):
    return self.firstname + ' ' + self.lastname
```

现在调用这个方法，只需要

```python
print(stu.fullname)
```

像使用属性一样调用就可以了。

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/2ed1b44a-7d50-4377-ac9c-db49db66cffb/66fcbb51-fee6-4f0a-b185-822aaaad946e/Untitled.png)

## `@aPropertyName.setter`

`@property` 是用来使用属性，`@aPropertyName.setter` 则用来定义属性。

```python
@fullname.setter
    def fullname(self, name):
        firstname, lastname = name.split(' ')
        self.firstname = firstname
        self.lastname = lastname
```

这样就可以使用

```python
stu1.fullname = 'Jane Doe'
```

## `@aPropertyName.setter`

用来删除属性。

```python
@fullname.deleter
    def fullname(self):
        self.firstname = None
        self.lastname = None
```

```python
del stu1.fullname
```