---
title: "函数传参是在传什么？"
date: 2024-7-24 8:00:00 +0800
categories: [Python Features]
tags: [Python]
---

## 变量都是引用

首先需要明确一点，Python 中所有的变量都是引用。那么什么是引用，我们打一个简单的比方。

这里有一个对象，是一个列表 `[1,2,3]`。

![](/assets/img/assignment1.png)

当我们将这个对象和一个变量绑定时，比如说绑定到 x 上时，就像往这个对象上贴了一个标签。

![](/assets/img/assignment2.png)

一个对象可以不止贴一个标签，我还可以写 `y=x` 来给这个对象贴上标签 y。

![](/assets/img/assignment3.png)

这就是为什么英文文章会将赋值这个动作，写为 *assignment*，意味着将对象分配到哪个标签。

那么了解了这个基本知识后，我们再来看看当我们操作变量时会怎么样。

## 通过引用改变值

Python 的对象分为可变对象和不可变对象，当我们修改变量，也就是通过引用去改变对象的值时，可变对象和不可变对象的结果是不一样的。

分别定义一个可变对象列表和一个不可变对象字符串进行演示，注意看更改前后的 id 有没有变化。

![](/assets/img/change_param.png)

你可以看到，可变对象更改后，id 没有变化，而不可变对象更改后 id 变了。你可以将这个不可变对象 id 变化的过程理解为，标签从这个对象取下，然后贴在了另一个对象上。

这一点非常重要，我想再重复一遍。当改变变量时，如果变量引用的是可变对象时，可以直接改变对象的值，当引用的是不可变对象，会创建一个新的对象。

那么回到我们今天的主题，函数传参是怎么传的。

## 传参传递的是引用

函数传参就是给对象再贴一个标签。我们通过这个例子可以看到，传入函数后，对象的 id 都没有变化。

![](/assets/img/passin_func_param.png)

我们刚刚说过，改变可变对象时，会直接改变对象；如果改变不可变对象，会新建一个对象。这在函数内部也是成立的，我们来让这个函数修改参数的值，再次打印 id 看看。

![](/assets/img/change_in_func_param.png)

## 最后

这个技巧可能没有办法立刻用在你的代码中，但明白这个逻辑可以让你识别出很多不那么明显的问题。希望对你有帮助。